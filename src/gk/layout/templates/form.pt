<form action="."
      i18n:domain="dolmen.form.base"
      tal:attributes="action view.action_url;
		      id view.htmlId();
		      method view.formMethod;
		      enctype view.enctype">

  <h1 tal:condition="view.label"
      tal:content="view.label">Label</h1>

  <p tal:condition="view.description"
     tal:content="view.description">Description</p>

  <p class="form-status"
     tal:condition="view.status"
     tal:content="view.status">Status</p>

  <div class="form-error"
       tal:condition="view.errors">
    <ul tal:condition="view.formErrors"
	tal:repeat="error view.formErrors">
      <li> <span tal:replace="error.title" /> </li>
    </ul>
  </div>

  <div class="form-error"
       tal:condition="view.errors">
    <ul tal:condition="view.formErrors"
	tal:repeat="error view.formErrors">
      <li tal:content="error.title" />
    </ul>
  </div>
  <div class="fields"
       tal:condition="view.fieldWidgets">
    <tal:field repeat="widget view.fieldWidgets">
      <div class="error-field"
	   tal:define="error widget.error"
	   tal:omit-tag="not error">
	<div tal:attributes="class widget.required and 'field required-field' or 'field'">
	  <h4>
	    <label class="field-label" for="#"
		   tal:attributes="for widget.htmlId()"
		   tal:content="widget.title">
	      Label
	    </label>
	    <span i18n:translate=""
		  class="required-label"
		  tal:condition="widget.required">(required)</span>
	  </h4>
	  <p class="field-description"
	     tal:condition="widget.description"
	     tal:content="widget.description" />

	  <p class="error-label"
	     tal:condition="error"
	     tal:content="error.title" />

	  <tal:widget tal:content="structure widget.render()" />
	</div>
      </div>
    </tal:field>
  </div>

  <div class="actions"
       tal:condition="view.actionWidgets">
    <div class="action" tal:repeat="widget view.actionWidgets">
      <tal:widget tal:content="structure widget.render()" />
    </div>
  </div>

</form>
